{"version":3,"sources":["User.js","TodoItem.js","TodoList.js","api/todos.js","api/users.js","App.js","index.js"],"names":["User","props","user","name","TodoItem","_ref","_ref$todo","todo","id","title","completed","react_default","a","createElement","className","type","checked","readOnly","src_User","TodoList","_this","todos","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getSortedData","event","sortingBy","target","valueOf","textContent","toLowerCase","state","sortedField","setState","prevState","todosList","toConsumableArray","reverse","sort","b","localeCompare","onClick","map","src_TodoItem","key","React","Component","getTodos","fetch","then","response","json","getUsers","App","data","isLoading","hasError","loadTodosAndUsers","dataTodos","dataUsers","Promise","all","_ref2","slicedToArray","listOfTodos","listOfUsers","objectSpread2","find","userId","catch","finally","_this$state","length","src_TodoList","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.004eb31f.chunk.js","sourcesContent":["const User = props => props.user.name;\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\n\nconst TodoItem = ({ todo: { user, id, title, completed } }) => (\n  <tr>\n    <td>{id}</td>\n    <td>{title}</td>\n    <td className=\"todo\">\n      <input type=\"checkbox\" checked={completed} readOnly />\n      <span>\n        {completed ? 'completed' : 'not completed'}\n      </span>\n    </td>\n    <td>\n      <User\n        user={user}\n      />\n    </td>\n  </tr>\n);\n\nTodoItem.propTypes = {\n  todo: PropTypes.oneOfType([PropTypes.object])\n    .isRequired,\n};\n\nexport default TodoItem;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport TodoItem from './TodoItem';\n\nclass TodoList extends React.Component {\n  constructor({ todos }) {\n    super(todos);\n    this.todos = todos;\n\n    this.state = {\n      todosList: [...this.todos],\n      sortedField: 'id',\n    };\n  }\n\n  getSortedData = (event) => {\n    const sortingBy = event.target.valueOf().textContent.toLowerCase();\n    const { sortedField } = this.state;\n\n    if ((sortedField === sortingBy)) {\n      this.setState(prevState => ({\n        todosList: [...prevState.todosList]\n          .reverse(),\n        sortedField: sortingBy,\n      }\n      ));\n    } else {\n      if (sortingBy === 'title') {\n        this.setState(prevState => ({\n          todosList: [...prevState.todosList]\n            .sort((a, b) => a[sortingBy].localeCompare(b[sortingBy])),\n          sortedField: sortingBy,\n        }\n        ));\n      }\n\n      if (sortingBy === 'name') {\n        this.setState(prevState => ({\n          todosList: [...prevState.todosList]\n            .sort((a, b) => a.user.name.localeCompare(b.user.name)),\n          sortedField: sortingBy,\n        }\n        ));\n      }\n\n      this.setState(prevState => ({\n        todosList: [...prevState.todosList]\n          .sort((a, b) => a[sortingBy] - b[sortingBy]),\n        sortedField: sortingBy,\n      }\n      ));\n    }\n  };\n\n  render() {\n    const { todosList } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1 className=\"heading\">Dynamic list of todos</h1>\n        <table>\n          <thead>\n            <tr>\n              <th onClick={this.getSortedData}>Id</th>\n              <th onClick={this.getSortedData}>Title</th>\n              <th onClick={this.getSortedData}>Completed</th>\n              <th onClick={this.getSortedData}>Name</th>\n            </tr>\n          </thead>\n          <tbody>\n            {todosList.map(todo => (\n              <TodoItem\n                todo={todo}\n                key={todo.id}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.oneOfType([PropTypes.array])\n    .isRequired,\n};\n\nexport default TodoList;\n","const URL = 'https://jsonplaceholder.typicode.com/todos';\n\nexport const getTodos = () => fetch(URL)\n  .then(response => response.json());\n","const URL = 'https://jsonplaceholder.typicode.com/users';\n\nexport const getUsers = () => fetch(URL)\n  .then(response => response.json());\n","import React from 'react';\nimport './App.css';\nimport TodoList from './TodoList';\n\nimport { getTodos } from './api/todos';\nimport { getUsers } from './api/users';\n\nclass App extends React.Component {\n  state = {\n    data: [],\n    isLoading: false,\n    hasError: false,\n  };\n\n  loadTodosAndUsers = () => {\n    this.setState({\n      isLoading: true,\n      hasError: false,\n    });\n\n    const dataTodos = getTodos();\n    const dataUsers = getUsers();\n\n    Promise.all([dataTodos, dataUsers]).then(([listOfTodos, listOfUsers]) => {\n      this.setState({\n        data: listOfTodos.map(todo => ({\n          ...todo,\n          user: listOfUsers.find(user => user.id === todo.userId),\n        }\n        )),\n        isLoading: false,\n      });\n    })\n      .catch(() => {\n        this.setState({\n          hasError: true,\n        });\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  render() {\n    const { data, isLoading, hasError } = this.state;\n\n    if (isLoading) {\n      return (\n        <div className=\"loader\">\n          <div className=\"spinner\" />\n        </div>\n      );\n    }\n\n    if (hasError) {\n      return (\n        <div className=\"App\">\n          <h1 className=\"heading\">Error</h1>\n          <button\n            className=\"loadButton\"\n            type=\"button\"\n            onClick={this.loadTodosAndUsers}\n          >\n            Try again\n          </button>\n        </div>\n      );\n    }\n\n    if (data.length === 0) {\n      return (\n        <div className=\"App\">\n          <h1 className=\"heading\">Dynamic list of todos</h1>\n          <button\n            className=\"loadButton\"\n            type=\"button\"\n            onClick={this.loadTodosAndUsers}\n          >\n            Load TodoList\n          </button>\n        </div>\n      );\n    }\n\n    return <TodoList todos={data} />;\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}